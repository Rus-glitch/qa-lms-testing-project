# Требования к модулю «Регистрация и авторизация»

**Проект:** LMS Система  
**Версия документа:** 1.0  
**Дата:** 2025-08-09  
**Ответственный:** QA Engineer  

---

## 1. Регистрация пользователя

### 1.1. Общие положения
- Пользователь может зарегистрироваться в одной из ролей:
  - **Ученик**
  - **Преподаватель**
- Роль выбирается при регистрации с помощью **радио-кнопок**.
- После успешной регистрации пользователь попадает в **личный кабинет** соответствующей роли.
- **Email** должен быть **уникальным** в системе.
- **Пароль**:
  - Длина: **от 8 до 20 символов**
  - Должен содержать:
    - Минимум одну **заглавную букву**
    - Минимум одну **цифру**
    - Минимум один **спецсимвол**
- **Подтверждение пароля** — обязательно.
- Все поля обязательны для заполнения.

### 1.2. Поля формы регистрации
| Поле | Формат / Ограничения | Обязательность |
|------|---------------------|---------------|
| **Имя** | Только буквы, от 2 до 50 символов | + |
| **Фамилия** | Только буквы, от 2 до 50 символов | + |
| **Email** | Формат: `example@domain.com` | + |
| **Пароль** | 8–20 символов, 1 заглавная буква, 1 цифра, 1 спецсимвол | + |
| **Подтверждение пароля** | Совпадает с полем «Пароль» | + |
| **Роль** | Радио-кнопка: «Ученик» / «Преподаватель» | + |

---

## 2. Авторизация

- Вход возможен **только по Email + Пароль**.
- При успешном входе:
  - Пользователь перенаправляется на **главную страницу своей роли**.
- При вводе некорректных данных:
  - Отображается сообщение об ошибке:  
    `Неверный логин или пароль`.

---

## 3. Восстановление пароля

- На странице авторизации есть кнопка **«Забыли пароль?»**.
- При нажатии:
  - Открывается форма ввода **Email**.
- Если Email найден в системе:
  - Отправляется письмо со **ссылкой на восстановление**.
  - **Срок действия ссылки:** 24 часа.
- При восстановлении пароля:
  - Пользователь вводит:
    - **Новый пароль**
    - **Подтверждение пароля**
  - Новый пароль должен соответствовать тем же правилам, что и при регистрации.

---

## 4. Подтверждение Email *(опционально, не входит в первую итерацию)*

- После регистрации пользователю отправляется письмо со **ссылкой для подтверждения Email**.
- Без подтверждения:
  - Вход в систему возможен, но отображается баннер:  
    `Пожалуйста, подтвердите email для доступа ко всем функциям`.
- Срок действия ссылки: **72 часа**.

---

**Примечание:** Пункт 4 пока можно не включать в тестирование первой итерации, но предусмотреть в архитектуре.

